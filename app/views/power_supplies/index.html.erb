<div class="container" style="margin-left: 0.7rem; display: flex; flex-direction: column">
  <p style="color: green"><%= notice %></p>
  <div class="zzzbg-gray-800">
    <h1><%= link_to 'Power supplies', power_supplies_path %></h1>
  </div>
  <%= turbo_frame_tag "power_supplies" do %>
    <div>
      <table class="w-full text-xs left-0 text-left rtl:text-right text-gray-500 dark:text-gray-400">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
        <%= form_for("filters", id: "psu_form", method: "GET", action: "/power_supplies", class: "text-xs px-6 py-3") do |form| %>
          <tr data-controller="psu" class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
            <th scope="row" class="text-xs px-5 py-3"><%= psu_select(form, :manufacturer) %></th>
            <th colspan="2"></th>
            <th><%= psu_select(form, :atx_version) %></th>
            <th></th>
            <th><%= psu_select(form, :wattage) %></th>
            <th colspan="5"></th>
            <th><%= psu_select(form, :efficiency_rating) %></th>
            <th colspan="5"></th>
          </tr>
        <% end %>
        <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600">
          <%= sortable_table_header 'Brand', :manufacturer, :power_supplies_path, class: 'px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white' %>
          <%= sortable_table_header 'Model', :model, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Price', :price, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'ATX', :atx_version, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Form factor', :form_factor, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Wattage', :wattage, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Avg efficiency', :avg_efficiency, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Avg efficiency 5vsb', :avg_efficiency_5vsb, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Vampire power', :vampire_power, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Avg pf', :avg_pf, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Avg noise', :avg_noise, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Efficiency rating', :efficiency_rating, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Noise rating', :noise_rating, :power_supplies_path, class: 'px-6 py-3' %>
          <%= sortable_table_header 'Release date', :release_date, :power_supplies_path, class: 'px-6 py-3' %>
          <th class="px-1 py-1">
            Fav
          </th>
          <th class="px-1 py-1">
            Edit
          </th>
          <th class="px-1 py-1">
            Del
          </th>
        </tr>
        </thead>
        <tbody>
        <% @power_supplies.each do |power_supply| %>
          <%= render partial: "psu_table", object: power_supply, as: :power_supply %>
        <% end %>
        <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
          <td class="px-6 py-4">
            Total
          </td>
          <td colspan="16" class="px-6 py-4">
            <%= @power_supplies.count %> PSUS
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  <% end %>

  <div class="flow-root">
    <%= edit_button_to new_power_supply_path, name: 'New power supply' %>
    <%= edit_button_to reprocess_power_supplies_path, name: 'Reprocess PSUs', confirm: "Are you sure you want to reprocess PSUs?" %>
    <%= delete_button_to delete_common_power_supplies_path, name: 'Delete common PSUs' %>
  </div>
</div>
